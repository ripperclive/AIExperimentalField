{
    "sourceFile": "src/components/knowledgeBase.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1683771638115,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1683771638115,
            "name": "Commit-0",
            "content": "import getModal from \"./fileModal.js\";\nimport { HNSWLib } from \"langchain/vectorstores/hnswlib\";\nimport { OpenAIEmbeddings } from \"langchain/embeddings/openai\";\nimport { RecursiveCharacterTextSplitter } from \"langchain/text_splitter\";\n\n\nconst docsModal = await getModal()\n\n\n\n// 文本分割工具\nconst textSplitter = new RecursiveCharacterTextSplitter({ chunkSize: 1000 });\n\nconst text = `\n群鹤咏:\n八风儛遥翮，九野弄清音。\n一摧云间志，为君苑中禽。\n《群鹤咏》是南朝齐高帝萧道成创作的一首五言古诗，这是一首诗人以鹤喻己的自况诗。\n诗人以鹤自喻，讲述了诗人渴望挣脱朝廷束缚，大展宏图却又被召回朝廷的苦闷之情。\n这首诗最鲜明的艺术特色是咏物而抒情，托物而言志，含而不露，意境深远。\n\n\n清平乐·留人不住:\n留人不住，醉解兰舟去。一棹碧涛春水路，过尽晓莺啼处。\n渡头杨柳青青，枝枝叶叶离情。此后锦书休寄，画楼云雨无凭。\n《清平乐·留人不住》是北宋词人晏几道创作的一首词。\n这是一首描写离情别怨的词作，写了女子对情人的依依不舍之情。\n上片用白描手法写春晨渡口分手时的种种情态：行者去意已决，送者依依不舍。\n下片以女子决绝之语作结，以怨写爱，抒写女子因多情而生绝望，恰表明不忍割舍的矛盾情怀。\n这首词运用了多组对比，塑造出一个意浅，一个情深两个形象，结构上，先含情脉脉，后决绝断念，刻画细腻，更反衬出词人的一片痴情。\n\n\n山坡羊·潼关怀古:\n峰峦如聚，波涛如怒，山河表里潼关路。\n望西都，意踌躇。伤心秦汉经行处，宫阙万间都做了土。\n兴，百姓苦；亡，百姓苦！\n《山坡羊·潼关怀古》是元曲作家张养浩的散曲作品。\n此曲抚今追昔，由历代王朝的兴衰引到人民百姓的苦难，一针见血地点出了封建统治与人民的对立，表现了作者对历史的思索和对人民的同情。\n全曲采用的是层层深入的方式，由写景而怀古，再引发议论，将苍茫的景色、深沉的情感和精辞的议论三者完美结合，具有强烈的感染力，字里行间中充满着历史的沧桑感和时代感，既有怀古诗的特色，又有与众不同的沉郁风格。`\n\n\nconst docs = await textSplitter.createDocuments(text);\n\n\n\n// const vectorStore = await HNSWLib.fromDocuments(docs, new OpenAIEmbeddings({ openAIApiKey: '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' }));\n\n\n\n\nconst extract = async (inputValue) => {\n    // const result = await vectorStore.similaritySearchWithScore(inputValue, 1);\n    console.log('啊？',docs)\n    return docs\n}\n\n\nexport default extract\n"
        }
    ]
}